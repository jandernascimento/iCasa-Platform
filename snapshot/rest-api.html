<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at May 16, 2013
 | Rendered using Apache Maven Fluido Skin 1.2.2
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>iCasa Platform</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido.min.js"></script>

          
                
        <?xml version="1.0" encoding="UTF-8"?>
<link rel="stylesheet" type="text/css" href="./css/site.css"/>
      
                
        <?xml version="1.0" encoding="UTF-8"?>
<link rel="stylesheet" type="text/css" href="./css/font-awesome.css"/>
      
                
        <?xml version="1.0" encoding="UTF-8"?>
<script type="text/javascript">var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-35847694-2']);
                _gaq.push(['_trackPageview']);

                (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();</script>
      
                
        <?xml version="1.0" encoding="UTF-8"?>
<script type="text/javascript">$(document).ready(function () {
                $("pre code").parent().addClass("prettyprint");
                prettyPrint();
                });</script>
      
                
        <?xml version="1.0" encoding="UTF-8"?>
<link rel="shortcut icon" href="favicon.png"/>
          
    <meta name="Date-Revision-yyyymmdd" content="20130516" />
    <meta http-equiv="Content-Language" content="en" />
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/AdeleResearchGroup/iCasa-Platform">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 100;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="#" id="bannerLeft">
                                                                                                <img src="icasa-small.png"  alt="iCasa Platform - Execution Platform for Digital Home applications"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2013-05-16</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 1.0.1-SNAPSHOT</li>
                      
                
            
      
                            </ul>
      </div>

            <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
            
                                    <h3>iCasa Simulator</h3>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Home">Home</a>
            </li>
                  <li class="none">
                          <a href="license.html" title="License">License</a>
            </li>
                  <li class="none">
                          <a href="overview.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="install.html" title="Install">Install</a>
            </li>
          </ul>
                        <h3>User Guide</h3>
                  <ul>
                  <li class="none">
            <strong>REST API</strong>
          </li>
                  <li class="none">
                          <a href="gogo-commands.html" title="Gogo commands">Gogo commands</a>
            </li>
                  <li class="none">
                          <a href="building-device.html" title="Device Building Tutorial">Device Building Tutorial</a>
            </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Javadoc">Javadoc</a>
            </li>
          </ul>
                        <h3>Project Documentation</h3>
                  <ul>
                                                                                                                                                                                                                                                                                                                                <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                            <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                      
            
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="http://adeleresearchgroup.github.com/iCasa-Platform" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>iCasa REST API</h1>

<p>iCasa provides a set of functional and simulation services used by pervasive application developers. A set of REST web services is provided to access those services. In this document the iCasa REST API will be presented. All web services use JSON as data representation.</p>

<ul>
<li><a href="#Zone">Zone Service</a></li>
<li><a href="#Device">Device Service</a></li>
<li><a href="#Clock">Clock Service</a><br></li>
<li><a href="#Person">Person Service</a><br></li>
</ul>

<p><a name="Zone"></a></p>

<h2>Zone Service</h2>

<p>Base URL: <em>http://host:port/icasa/zone</em></p>

<h3>Gets the zone list (GET)</h3>

<p>Gets the list of zones in the iCasa execution platform.</p>

<p>Path: <strong>http://host:port/icasa/zones/zones</strong></p>

<p>Path parameter -> None</p>

<p>Data parameter -> None</p>

<h4>Example:</h4>

<pre><code>&gt; curl -X GET http://localhost:8080/icasa/zones/zones
</code></pre>

<p>Result:</p>

<pre><code>[
  {
    "id": "livingroom",
    "isRoom": true,
    "rightX": 655,
    "leftX": 410,
    "name": "livingroom",
    "topY": 28,
    "bottomY": 378,
    "variables": {
       "Volume": 10,
       "Illuminance": 5,
       "Temperature": 295.15
   }
  },
  {
   "id": "kitchen",
   "isRoom": true,
   "rightX": 655,
   "leftX": 410,
   "name": "kitchen",
   "topY": 370,
   "bottomY": 580,
   "variables": {
     "Illuminance": 0,
     "Temperature": 296.15
   }
  },
  {
   "id": "bathroom",
   "isRoom": true,
   "rightX": 315,
   "leftX": 55,
   "name": "bathroom",
   "topY": 20,
   "bottomY": 370,
   "variables": {
     "Volume": 10,
     "Illuminance": 5,
     "Temperature": 295.15
   }
  }
]
</code></pre>

<h3>Gets a specific zone (GET)</h3>

<p>Gets the information of a particular zone</p>

<p>Path -> <strong>http://host:port/icasa/zones/zone/${zoneId}</strong></p>

<p>Path parameter -> ${zoneId} the id of the zone to be consulted</p>

<p>Data parameter -> <em>None</em></p>

<h4>Example:</h4>

<pre><code>&gt; curl -X GET http://localhost:8080/icasa/zones/zone/bathroom
</code></pre>

<p>Result:</p>

<pre><code>{
   "id": "bathroom",
   "isRoom": true,
   "rightX": 315,
   "leftX": 55,
   "name": "bathroom",
   "topY": 20,
   "bottomY": 370,
   "variables": {
      "Volume": 10,
      "Illuminance": 5,
      "Temperature": 295.15
    }
}
</code></pre>

<h3>Craete a zone (POST)</h3>

<p>Creates a new zone in the iCasa execution platform.</p>

<p>Path -> <strong>http://host:port/icasa/zones/zone</strong></p>

<p>Path parameter -> None</p>

<p>Data parameter -> the JSON data associated with the new zone</p>

<h4>Example:</h4>

<pre><code>&gt; curl -X POST -d "{"zoneId":"hall","name":"hall","isRoom":false,"leftX":1,"topY":1,"rightX":50,"bottomY":50}" http://localhost:8080/icasa/zones/zone
</code></pre>

<p>Result:</p>

<pre><code>{
 "id":"hall",
 "isRoom":true,
 "rightX":50,
 "leftX":1,
 "name":"hall",
 "topY":1,
 "bottomY":50,
 "variables":{}
</code></pre>

<p>   }</p>

<h3>Delete an zone (DELETE)</h3>

<p>Deletes a zone in the iCasa execution platform.</p>

<p>Path -> <strong>http://host:port/icasa/zones/zone/${zoneId}</strong></p>

<p>Path parameter -> ${zoneId} the id of the zone to be deleted</p>

<p>Data parameter -> <em>None</em></p>

<h4>Example:</h4>

<pre><code>&gt; curl -X DELETE http://localhost:8080/icasa/zones/zone/hall
</code></pre>

<h3>Updates a zone (PUT)</h3>

<p>Updates a zone in the iCasa execution platform.</p>

<p>Path -> <strong>http://host:port/icasa/zones/zone/${zoneId}</strong></p>

<p>Path parameter -> ${zoneId} the id of the zone to be created</p>

<p>Data parameter -> the JSON data associated with new zone</p>

<h4>Example:</h4>

<pre><code>&gt; curl -X POST -d "{"id":"hall","isRoom":true,"rightX":316,"leftX":98,"name":"hall","topY":72,"bottomY":277,"variables":{}}" _http://localhost:8080/icasa/zones/zone/hall_
</code></pre>

<p>Result:</p>

<pre><code>{
 "id":"hall",
 "isRoom":true,
 "rightX":316,
 "leftX":98,
 "name":"hall",
 "topY":72,
 "bottomY":277,
 "variables":{}
</code></pre>

<p>   }</p>

<p><br></p>

<p><a name="Device"></a></p>

<h2>Device Service</h2>

<p>Base URL: <em>http://host:port/icasa/devices</em></p>

<h3>Gets the device list (GET)</h3>

<p>Gets the list of devices in the iCasa execution platform.</p>

<p>Path: <strong>http://host:port/icasa/devices/devices</strong></p>

<p>Path parameter -> None</p>

<p>Data parameter -> None</p>

<h4>Example:</h4>

<pre><code>&gt; curl -X GET http://localhost:8080/icasa/devices/devices
</code></pre>

<p>Result:</p>

<pre><code>[
   {
      "id": "Dimi-X3258Q-P",
      "location": "livingroom",
      "positionX": 577,
      "name": "Dimi-X3258Q-P",
      "positionY": 162,
      "state": "activated",
      "properties": {
         "power_level": 0,
         "state": "activated",
         "Location": "livingroom",
         "max_illuminance": 0,
         "fault": "no"
      },
      "type": "iCASA.DimmerLight",
      "services":["fr.liglab.adele.icasa.device.light.DimmerLight",
                "fr.liglab.adele.icasa.simulator.SimulatedDevice",
                "fr.liglab.adele.icasa.device.GenericDevice"],
      "fault": "no"
   },
   {
      "id": "Ther-A3654Q-S",
      "location": "kitchen",
      "positionX": 634,
      "name": "Ther-A3654Q-S",
      "positionY": 405,
      "state": "activated",
      "properties": {
         "state": "activated",
         "Location": "kitchen",
         "current_temperature": 296.15,
         "fault": "no"
      },
      "type": "iCASA.Thermometer",
      "services":["fr.liglab.adele.icasa.device.light.Photometer",
                "fr.liglab.adele.icasa.simulator.SimulatedDevice",
                "fr.liglab.adele.icasa.device.GenericDevice"],
      "fault": "no"
   }
]
</code></pre>

<h3>Gets a specific device (GET)</h3>

<p>Gets the information of a particular device</p>

<p>Path -> <strong>http://host:port/icasa/devices/device/${deviceId}</strong></p>

<p>Path parameter -> ${deviceId} the id of the device to be consulted</p>

<p>Data parameter -> <em>None</em></p>

<h4>Example:</h4>

<pre><code>&gt; curl -X GET _http://localhost:8080/icasa/devices/device/Ther-A3654Q-S_
</code></pre>

<p>Result:</p>

<pre><code>   {
      "id": "Ther-A3654Q-S",
      "location": "kitchen",
      "positionX": 634,
      "name": "Ther-A3654Q-S",
      "positionY": 405,
      "state": "activated",
      "properties": {
         "state": "activated",
         "Location": "kitchen",
         "current_temperature": 296.15,
         "fault": "no"
      },
      "type": "iCASA.Thermometer",
      "services":["fr.liglab.adele.icasa.device.light.Photometer",
                "fr.liglab.adele.icasa.simulator.SimulatedDevice",
                "fr.liglab.adele.icasa.device.GenericDevice"],
      "fault": "no"
   }
</code></pre>

<p><br></p>

<h3>Creates a device (POST)</h3>

<p>Creates a new device in the iCasa execution platform.</p>

<p>Path -> <strong>http://host:port/icasa/devices/device</strong></p>

<p>Path parameter -> None</p>

<p>Data parameter -> the JSON data associated with the new device</p>

<h4>Example:</h4>

<pre><code>&gt; curl -X POST -d "{"deviceId":"Heater-970c350695","name":"","type":"iCASA.Heater","positionX":1,"positionY":1,"properties":{}}" http://localhost:8080/icasa/devices/device
</code></pre>

<p>Result:</p>

<pre><code>{
  "id":"Heater-970c350695",
  "positionX":-1,
  "name":"Heater-970c350695",
  "positionY":-1,
  "state":"activated",
  "properties":{
     "heater.updaterThread.period":5000,
    "state":"activated",
    "fault":"no"
  },
  "type":"iCASA.Heater",
    "services":["fr.liglab.adele.icasa.device.temperature.Heater",
                "fr.liglab.adele.icasa.simulator.SimulatedDevice",
                "fr.liglab.adele.icasa.device.GenericDevice"],
  "fault":"no"}
</code></pre>

<p>   }</p>

<h3>Updates a device (PUT)</h3>

<p>Updates a device in the iCasa execution platform.</p>

<p>Path -> <strong>http://host:port/icasa/devices/device/${deviceId}</strong></p>

<p>Path parameter -> ${deviceId} the id of the device to be consulted</p>

<p>Data parameter -> the JSON data associated with the device</p>

<h4>Example:</h4>

<pre><code>&gt; curl -X POST -d "{"deviceId":"Heater-970c350695","name":"Heater-970c350695","type":"iCASA.Heater","positionX":182.8000030517578,"positionY":441.8000030517578,"properties":{"heater.updaterThread.period":5000,"state":"activated","fault":"no"},"id":"Heater-970c350695","width":32,"height":32,"state":"activated","fault":"no"}" http://localhost:8080/icasa/zones/zone/hall
</code></pre>

<p>Result:</p>

<pre><code>{
    "id":"Heater-970c350695",
    "location":"bedroom",
   "positionX":182,
  "name":"Heater-970c350695",
  "positionY":441,
  "state":"activated",
  "properties":{
     "heater.updaterThread.period":5000,
     "state":"activated",
     "Location":"bedroom",
     "fault":"no"},
  "type":"iCASA.Heater",
    "services":["fr.liglab.adele.icasa.device.temperature.Heater",
            "fr.liglab.adele.icasa.simulator.SimulatedDevice",
            "fr.liglab.adele.icasa.device.GenericDevice"],
  "fault":"no"
</code></pre>

<p>   }</p>

<h3>Deleta a device (DELETE)</h3>

<p>Deletes a device in the iCasa execution platform.</p>

<p>Path -> <strong>http://host:port/icasa/devices/device/${deviceId}</strong></p>

<p>Path parameter -> ${deviceId} the id of the device to be deleted</p>

<p>Data parameter -> <em>None</em></p>

<p><a name="Clock"></a></p>

<h2>Clock Service</h2>

<p>Base URL: <em>http://host:port/icasa/clocks/clock/default</em></p>

<h3>Gets the clock (GET)</h3>

<p>Gets the information associated to the default clock service</p>

<p>Path: <strong>http://host:port/icasa/clocks/clock/default</strong></p>

<p>Path parameter -> None</p>

<p>Data parameter -> None</p>

<h4>Example:</h4>

<pre><code>curl -X GET http://localhost:8080/icasa/clocks/clock/default
</code></pre>

<p>Result:</p>

<pre><code>{
   "pause": false,
   "currentTime": 1327354107840,
   "startDate": 1319666400000,
   "startDateStr": "27/10/2011-00:00:00",
   "currentDateStr": "23/01/2012-22:28:27",
   "factor": 1440
}
</code></pre>

<h3>Updates the clock (PUT)</h3>

<p>Updates the state of the clock service in the execution platform</p>

<p>Path -> <strong>http://host:port/icasa/clocks/clock/default</strong></p>

<p>Path parameter -> None</p>

<p>Data parameter -> None</p>

<pre><code>curl -X POST -d "{"pause": true, "startDate": 1319666400000, "factor": 1440}" http://localhost:8080/icasa/clocks/clock/default
</code></pre>

<p>Result:</p>

<pre><code>{
   "pause": false,
   "currentTime": 1327542202080,
   "startDate": 1319666400000,
   "startDateStr": "27/10/2011-00:00:00",
   "currentDateStr": "26/01/2012-02:43:22",
   "factor": 1440
}
</code></pre>

<p><a name="Person"></a>   </p>

<h2>Person Service</h2>

<p>Base URL: <em>http://host:port/icasa/persons</em></p>

<h3>Gets the person type list (GET)</h3>

<p>Gets the list of person types in the iCasa execution platform.</p>

<p>Path: <strong>http://host:port/icasa/persons/personTypes</strong></p>

<p>Path parameter -> None</p>

<p>Data parameter -> None</p>

<h4>Example:</h4>

<pre><code>&gt; curl -X GET http://localhost:8080/icasa/persons/personTypes
</code></pre>

<p>Result:</p>

<pre><code>[
   {
       "id": "Grandfather",
       "name": "Grandfather"
   },
   {
       "id": "Grandmother",
       "name": "Grandmother"
   },
   {
       "id": "Father",
       "name": "Father"
   },
   {
       "id": "Mother",
       "name": "Mother"
   }
]
</code></pre>

<h3>Gets the person list (GET)</h3>

<p>Gets the list of person in the iCasa execution platform.</p>

<p>Path: <strong>http://host:port/icasa/persons/persons</strong></p>

<p>Path parameter -> None</p>

<p>Data parameter -> None</p>

<h4>Example:</h4>

<pre><code>&gt; curl -X GET http://localhost:8080/icasa/persons/persons
</code></pre>

<p>Result:</p>

<pre><code>[
   {
       "id": "Paul",
       "location": "kitchen",
       "positionX": 506,
       "name": "Paul",
       "positionY": 439,
       "type": "Grandfather"
   },
   {
       "id": "Aurelie",
       "location": "livingroom",
       "positionX": 474,
       "name": "Aurelie",
       "positionY": 158,
       "type": "Grandmother"
   }
]
</code></pre>

<h3>Updates a person (PUT)</h3>

<p>Updates the state of a persion service in the execution platform</p>

<p>Path -> <strong>http://host:port/icasa/persons/person/${personId}</strong></p>

<p>Path parameter -> ${personId} the id of the person to be updated</p>

<p>Data parameter -> <em>None</em></p>

<h4>Example:</h4>

<pre><code>&gt; curl -X PUT -d "{"personId":"Paul","name":"Paul","type":"Grandfather","positionX":542,"positionY":294,"id":"Paul","width":50,"height":50,"location":"kitchen"}" http://localhost:8080/icasa/persons/person/Paul
</code></pre>

<p>Result:</p>

<pre><code>{  
  "id":"Paul",
  "location":"livingroom",
  "positionX":542,
  "name":"Paul",
  "positionY":294,
  "type":"Grandfather"
</code></pre>

<p>   }</p>

<h3>Creates a person (POST)</h3>

<p>Creates a new person in the iCasa execution platform.</p>

<p>Path -> <strong>http://host:port/icasa/persons/person</strong></p>

<p>Path parameter -> None</p>

<p>Data parameter -> the JSON data associated with the new person</p>

<h4>Example:</h4>

<pre><code>&gt; curl -X POST -d "{"personId":"Paul","name":"Paul","type":"Grandfather","positionX":1,"positionY":1}" http://localhost:8080/icasa/persons/person
</code></pre>

<p>Result:</p>

<pre><code>{  
  "id":"Paul",
  "location":"unknown",
  "positionX":1,
  "name":"Paul",
  "positionY":1,
  "type":"Grandfather"
</code></pre>

<p>   }</p>

<h3>Deletes a person (DELETE)</h3>

<p>Deletes a person in the iCasa execution platform.</p>

<p>Path -> <strong>http://host:port/icasa/persons/person/${personId}</strong></p>

<p>Path parameter -> ${personId} the id of the person to be deleted</p>

<p>Data parameter -> <em>None</em></p>

                  </div>
            </div>
      
    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2012-2013
                        <a href="http://www-adele.imag.fr/">Adele Team</a>.
            All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
